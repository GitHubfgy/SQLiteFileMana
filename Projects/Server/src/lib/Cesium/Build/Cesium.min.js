!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>st});const n=function(t){return null!=t};function r(t){let e;this.name="DeveloperError",this.message=t;try{throw new Error}catch(t){e=t.stack}this.stack=e}n(Object.create)&&(r.prototype=Object.create(Error.prototype),r.prototype.constructor=r),r.prototype.toString=function(){let t=`${this.name}: ${this.message}`;return n(this.stack)&&(t+=`\n${this.stack.toString()}`),t},r.throwInstantiationError=function(){throw new r("This function defines an interface and should not be called directly.")};const i=r,o={};function a(t,e,n){return`Expected ${n} to be typeof ${e}, actual typeof was ${t}`}o.typeOf={},o.defined=function(t,e){if(!n(e))throw new i(function(t){return`${t} is required, actual value was undefined`}(t))},o.typeOf.func=function(t,e){if("function"!=typeof e)throw new i(a(typeof e,"function",t))},o.typeOf.string=function(t,e){if("string"!=typeof e)throw new i(a(typeof e,"string",t))},o.typeOf.number=function(t,e){if("number"!=typeof e)throw new i(a(typeof e,"number",t))},o.typeOf.number.lessThan=function(t,e,n){if(o.typeOf.number(t,e),e>=n)throw new i(`Expected ${t} to be less than ${n}, actual value was ${e}`)},o.typeOf.number.lessThanOrEquals=function(t,e,n){if(o.typeOf.number(t,e),e>n)throw new i(`Expected ${t} to be less than or equal to ${n}, actual value was ${e}`)},o.typeOf.number.greaterThan=function(t,e,n){if(o.typeOf.number(t,e),e<=n)throw new i(`Expected ${t} to be greater than ${n}, actual value was ${e}`)},o.typeOf.number.greaterThanOrEquals=function(t,e,n){if(o.typeOf.number(t,e),e<n)throw new i(`Expected ${t} to be greater than or equal to ${n}, actual value was ${e}`)},o.typeOf.object=function(t,e){if("object"!=typeof e)throw new i(a(typeof e,"object",t))},o.typeOf.bool=function(t,e){if("boolean"!=typeof e)throw new i(a(typeof e,"boolean",t))},o.typeOf.bigint=function(t,e){if("bigint"!=typeof e)throw new i(a(typeof e,"bigint",t))},o.typeOf.number.equals=function(t,e,n,r){if(o.typeOf.number(t,n),o.typeOf.number(e,r),n!==r)throw new i(`${t} must be equal to ${e}, the actual values are ${n} and ${r}`)};const s=o;function u(t,e){return null!=t?t:e}u.EMPTY_OBJECT=Object.freeze({});const c=u;var h=function(t){null==t&&(t=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,t.constructor==Array?this.init_by_array(t,t.length):this.init_seed(t)};h.prototype.init_seed=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++)t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0},h.prototype.init_by_array=function(t,e){var n,r,i;for(this.init_seed(19650218),n=1,r=0,i=this.N>e?this.N:e;i;i--){var o=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1664525*((4294901760&o)>>>16)<<16)+1664525*(65535&o))+t[r]+r,this.mt[n]>>>=0,r++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),r>=e&&(r=0)}for(i=this.N-1;i;i--)o=this.mt[n-1]^this.mt[n-1]>>>30,this.mt[n]=(this.mt[n]^(1566083941*((4294901760&o)>>>16)<<16)+1566083941*(65535&o))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1);this.mt[0]=2147483648},h.prototype.random_int=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_seed(5489),n=0;n<this.N-this.M;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^t>>>1^e[1&t];for(;n<this.N-1;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^t>>>1^e[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},h.prototype.random_int31=function(){return this.random_int()>>>1},h.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},h.prototype.random=function(){return this.random_int()*(1/4294967296)},h.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},h.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)};var f=h;const l={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,EPSILON21:1e-21,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:6955e5,LUNAR_RADIUS:1737400,SIXTY_FOUR_KILOBYTES:65536,FOUR_GIGABYTES:4294967296};l.sign=c(Math.sign,(function(t){return 0==(t=+t)||t!=t?t:t>0?1:-1})),l.signNotZero=function(t){return t<0?-1:1},l.toSNorm=function(t,e){return e=c(e,255),Math.round((.5*l.clamp(t,-1,1)+.5)*e)},l.fromSNorm=function(t,e){return e=c(e,255),l.clamp(t,0,e)/e*2-1},l.normalize=function(t,e,n){return 0===(n=Math.max(n-e,0))?0:l.clamp((t-e)/n,0,1)},l.sinh=c(Math.sinh,(function(t){return(Math.exp(t)-Math.exp(-t))/2})),l.cosh=c(Math.cosh,(function(t){return(Math.exp(t)+Math.exp(-t))/2})),l.lerp=function(t,e,n){return(1-n)*t+n*e},l.PI=Math.PI,l.ONE_OVER_PI=1/Math.PI,l.PI_OVER_TWO=Math.PI/2,l.PI_OVER_THREE=Math.PI/3,l.PI_OVER_FOUR=Math.PI/4,l.PI_OVER_SIX=Math.PI/6,l.THREE_PI_OVER_TWO=3*Math.PI/2,l.TWO_PI=2*Math.PI,l.ONE_OVER_TWO_PI=1/(2*Math.PI),l.RADIANS_PER_DEGREE=Math.PI/180,l.DEGREES_PER_RADIAN=180/Math.PI,l.RADIANS_PER_ARCSECOND=l.RADIANS_PER_DEGREE/3600,l.toRadians=function(t){if(!n(t))throw new i("degrees is required.");return t*l.RADIANS_PER_DEGREE},l.toDegrees=function(t){if(!n(t))throw new i("radians is required.");return t*l.DEGREES_PER_RADIAN},l.convertLongitudeRange=function(t){if(!n(t))throw new i("angle is required.");const e=l.TWO_PI,r=t-Math.floor(t/e)*e;return r<-Math.PI?r+e:r>=Math.PI?r-e:r},l.clampToLatitudeRange=function(t){if(!n(t))throw new i("angle is required.");return l.clamp(t,-1*l.PI_OVER_TWO,l.PI_OVER_TWO)},l.negativePiToPi=function(t){if(!n(t))throw new i("angle is required.");return t>=-l.PI&&t<=l.PI?t:l.zeroToTwoPi(t+l.PI)-l.PI},l.zeroToTwoPi=function(t){if(!n(t))throw new i("angle is required.");if(t>=0&&t<=l.TWO_PI)return t;const e=l.mod(t,l.TWO_PI);return Math.abs(e)<l.EPSILON14&&Math.abs(t)>l.EPSILON14?l.TWO_PI:e},l.mod=function(t,e){if(!n(t))throw new i("m is required.");if(!n(e))throw new i("n is required.");if(0===e)throw new i("divisor cannot be 0.");return l.sign(t)===l.sign(e)&&Math.abs(t)<Math.abs(e)?t:(t%e+e)%e},l.equalsEpsilon=function(t,e,r,o){if(!n(t))throw new i("left is required.");if(!n(e))throw new i("right is required.");r=c(r,0),o=c(o,r);const a=Math.abs(t-e);return a<=o||a<=r*Math.max(Math.abs(t),Math.abs(e))},l.lessThan=function(t,e,r){if(!n(t))throw new i("first is required.");if(!n(e))throw new i("second is required.");if(!n(r))throw new i("absoluteEpsilon is required.");return t-e<-r},l.lessThanOrEquals=function(t,e,r){if(!n(t))throw new i("first is required.");if(!n(e))throw new i("second is required.");if(!n(r))throw new i("absoluteEpsilon is required.");return t-e<r},l.greaterThan=function(t,e,r){if(!n(t))throw new i("first is required.");if(!n(e))throw new i("second is required.");if(!n(r))throw new i("absoluteEpsilon is required.");return t-e>r},l.greaterThanOrEquals=function(t,e,r){if(!n(t))throw new i("first is required.");if(!n(e))throw new i("second is required.");if(!n(r))throw new i("absoluteEpsilon is required.");return t-e>-r};const p=[1];l.factorial=function(t){if("number"!=typeof t||t<0)throw new i("A number greater than or equal to 0 is required.");const e=p.length;if(t>=e){let n=p[e-1];for(let r=e;r<=t;r++){const t=n*r;p.push(t),n=t}}return p[t]},l.incrementWrap=function(t,e,r){if(r=c(r,0),!n(t))throw new i("n is required.");if(e<=r)throw new i("maximumValue must be greater than minimumValue.");return++t>e&&(t=r),t},l.isPowerOfTwo=function(t){if("number"!=typeof t||t<0||t>4294967295)throw new i("A number between 0 and (2^32)-1 is required.");return 0!==t&&0==(t&t-1)},l.nextPowerOfTwo=function(t){if("number"!=typeof t||t<0||t>2147483648)throw new i("A number between 0 and 2^31 is required.");return--t,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},l.previousPowerOfTwo=function(t){if("number"!=typeof t||t<0||t>4294967295)throw new i("A number between 0 and (2^32)-1 is required.");return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,((t|=t>>32)>>>0)-(t>>>1)},l.clamp=function(t,e,n){return s.typeOf.number("value",t),s.typeOf.number("min",e),s.typeOf.number("max",n),t<e?e:t>n?n:t};let y=new f;l.setRandomNumberSeed=function(t){if(!n(t))throw new i("seed is required.");y=new f(t)},l.nextRandomNumber=function(){return y.random()},l.randomBetween=function(t,e){return l.nextRandomNumber()*(e-t)+t},l.acosClamped=function(t){if(!n(t))throw new i("value is required.");return Math.acos(l.clamp(t,-1,1))},l.asinClamped=function(t){if(!n(t))throw new i("value is required.");return Math.asin(l.clamp(t,-1,1))},l.chordLength=function(t,e){if(!n(t))throw new i("angle is required.");if(!n(e))throw new i("radius is required.");return 2*e*Math.sin(.5*t)},l.logBase=function(t,e){if(!n(t))throw new i("number is required.");if(!n(e))throw new i("base is required.");return Math.log(t)/Math.log(e)},l.cbrt=c(Math.cbrt,(function(t){const e=Math.pow(Math.abs(t),1/3);return t<0?-e:e})),l.log2=c(Math.log2,(function(t){return Math.log(t)*Math.LOG2E})),l.fog=function(t,e){const n=t*e;return 1-Math.exp(-n*n)},l.fastApproximateAtan=function(t){return s.typeOf.number("x",t),t*(-.1784*Math.abs(t)-.0663*t*t+1.0301)},l.fastApproximateAtan2=function(t,e){let n;s.typeOf.number("x",t),s.typeOf.number("y",e);let r=Math.abs(t);n=Math.abs(e);const o=Math.max(r,n);n=Math.min(r,n);const a=n/o;if(isNaN(a))throw new i("either x or y must be nonzero");return r=l.fastApproximateAtan(a),r=Math.abs(e)>Math.abs(t)?l.PI_OVER_TWO-r:r,r=t<0?l.PI-r:r,r=e<0?-r:r,r};const d=l;function m(t,e,n){this.x=c(t,0),this.y=c(e,0),this.z=c(n,0)}m.fromSpherical=function(t,e){s.typeOf.object("spherical",t),n(e)||(e=new m);const r=t.clock,i=t.cone,o=c(t.magnitude,1),a=o*Math.sin(i);return e.x=a*Math.cos(r),e.y=a*Math.sin(r),e.z=o*Math.cos(i),e},m.fromElements=function(t,e,r,i){return n(i)?(i.x=t,i.y=e,i.z=r,i):new m(t,e,r)},m.clone=function(t,e){if(n(t))return n(e)?(e.x=t.x,e.y=t.y,e.z=t.z,e):new m(t.x,t.y,t.z)},m.fromCartesian4=m.clone,m.packedLength=3,m.pack=function(t,e,n){return s.typeOf.object("value",t),s.defined("array",e),n=c(n,0),e[n++]=t.x,e[n++]=t.y,e[n]=t.z,e},m.unpack=function(t,e,r){return s.defined("array",t),e=c(e,0),n(r)||(r=new m),r.x=t[e++],r.y=t[e++],r.z=t[e],r},m.packArray=function(t,e){s.defined("array",t);const r=t.length,o=3*r;if(n(e)){if(!Array.isArray(e)&&e.length!==o)throw new i("If result is a typed array, it must have exactly array.length * 3 elements");e.length!==o&&(e.length=o)}else e=new Array(o);for(let n=0;n<r;++n)m.pack(t[n],e,3*n);return e},m.unpackArray=function(t,e){if(s.defined("array",t),s.typeOf.number.greaterThanOrEquals("array.length",t.length,3),t.length%3!=0)throw new i("array length must be a multiple of 3.");const r=t.length;n(e)?e.length=r/3:e=new Array(r/3);for(let n=0;n<r;n+=3){const r=n/3;e[r]=m.unpack(t,n,e[r])}return e},m.fromArray=m.unpack,m.maximumComponent=function(t){return s.typeOf.object("cartesian",t),Math.max(t.x,t.y,t.z)},m.minimumComponent=function(t){return s.typeOf.object("cartesian",t),Math.min(t.x,t.y,t.z)},m.minimumByComponent=function(t,e,n){return s.typeOf.object("first",t),s.typeOf.object("second",e),s.typeOf.object("result",n),n.x=Math.min(t.x,e.x),n.y=Math.min(t.y,e.y),n.z=Math.min(t.z,e.z),n},m.maximumByComponent=function(t,e,n){return s.typeOf.object("first",t),s.typeOf.object("second",e),s.typeOf.object("result",n),n.x=Math.max(t.x,e.x),n.y=Math.max(t.y,e.y),n.z=Math.max(t.z,e.z),n},m.clamp=function(t,e,n,r){s.typeOf.object("value",t),s.typeOf.object("min",e),s.typeOf.object("max",n),s.typeOf.object("result",r);const i=d.clamp(t.x,e.x,n.x),o=d.clamp(t.y,e.y,n.y),a=d.clamp(t.z,e.z,n.z);return r.x=i,r.y=o,r.z=a,r},m.magnitudeSquared=function(t){return s.typeOf.object("cartesian",t),t.x*t.x+t.y*t.y+t.z*t.z},m.magnitude=function(t){return Math.sqrt(m.magnitudeSquared(t))};const O=new m;m.distance=function(t,e){return s.typeOf.object("left",t),s.typeOf.object("right",e),m.subtract(t,e,O),m.magnitude(O)},m.distanceSquared=function(t,e){return s.typeOf.object("left",t),s.typeOf.object("right",e),m.subtract(t,e,O),m.magnitudeSquared(O)},m.normalize=function(t,e){s.typeOf.object("cartesian",t),s.typeOf.object("result",e);const n=m.magnitude(t);if(e.x=t.x/n,e.y=t.y/n,e.z=t.z/n,isNaN(e.x)||isNaN(e.y)||isNaN(e.z))throw new i("normalized result is not a number");return e},m.dot=function(t,e){return s.typeOf.object("left",t),s.typeOf.object("right",e),t.x*e.x+t.y*e.y+t.z*e.z},m.multiplyComponents=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=t.x*e.x,n.y=t.y*e.y,n.z=t.z*e.z,n},m.divideComponents=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=t.x/e.x,n.y=t.y/e.y,n.z=t.z/e.z,n},m.add=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n},m.subtract=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n},m.multiplyByScalar=function(t,e,n){return s.typeOf.object("cartesian",t),s.typeOf.number("scalar",e),s.typeOf.object("result",n),n.x=t.x*e,n.y=t.y*e,n.z=t.z*e,n},m.divideByScalar=function(t,e,n){return s.typeOf.object("cartesian",t),s.typeOf.number("scalar",e),s.typeOf.object("result",n),n.x=t.x/e,n.y=t.y/e,n.z=t.z/e,n},m.negate=function(t,e){return s.typeOf.object("cartesian",t),s.typeOf.object("result",e),e.x=-t.x,e.y=-t.y,e.z=-t.z,e},m.abs=function(t,e){return s.typeOf.object("cartesian",t),s.typeOf.object("result",e),e.x=Math.abs(t.x),e.y=Math.abs(t.y),e.z=Math.abs(t.z),e};const b=new m;m.lerp=function(t,e,n,r){return s.typeOf.object("start",t),s.typeOf.object("end",e),s.typeOf.number("t",n),s.typeOf.object("result",r),m.multiplyByScalar(e,n,b),r=m.multiplyByScalar(t,1-n,r),m.add(b,r,r)};const g=new m,w=new m;m.angleBetween=function(t,e){s.typeOf.object("left",t),s.typeOf.object("right",e),m.normalize(t,g),m.normalize(e,w);const n=m.dot(g,w),r=m.magnitude(m.cross(g,w,g));return Math.atan2(r,n)};const _=new m;m.mostOrthogonalAxis=function(t,e){s.typeOf.object("cartesian",t),s.typeOf.object("result",e);const n=m.normalize(t,_);return m.abs(n,n),n.x<=n.y?n.x<=n.z?m.clone(m.UNIT_X,e):m.clone(m.UNIT_Z,e):n.y<=n.z?m.clone(m.UNIT_Y,e):m.clone(m.UNIT_Z,e)},m.projectVector=function(t,e,n){s.defined("a",t),s.defined("b",e),s.defined("result",n);const r=m.dot(t,e)/m.dot(e,e);return m.multiplyByScalar(e,r,n)},m.equals=function(t,e){return t===e||n(t)&&n(e)&&t.x===e.x&&t.y===e.y&&t.z===e.z},m.equalsArray=function(t,e,n){return t.x===e[n]&&t.y===e[n+1]&&t.z===e[n+2]},m.equalsEpsilon=function(t,e,r,i){return t===e||n(t)&&n(e)&&d.equalsEpsilon(t.x,e.x,r,i)&&d.equalsEpsilon(t.y,e.y,r,i)&&d.equalsEpsilon(t.z,e.z,r,i)},m.cross=function(t,e,n){s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n);const r=t.x,i=t.y,o=t.z,a=e.x,u=e.y,c=e.z,h=i*c-o*u,f=o*a-r*c,l=r*u-i*a;return n.x=h,n.y=f,n.z=l,n},m.midpoint=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=.5*(t.x+e.x),n.y=.5*(t.y+e.y),n.z=.5*(t.z+e.z),n},m.fromDegrees=function(t,e,n,r,i){return s.typeOf.number("longitude",t),s.typeOf.number("latitude",e),t=d.toRadians(t),e=d.toRadians(e),m.fromRadians(t,e,n,r,i)};let x=new m,E=new m;const M=new m(40680631590769,40680631590769,40408299984661.445);m.fromRadians=function(t,e,r,i,o){s.typeOf.number("longitude",t),s.typeOf.number("latitude",e),r=c(r,0);const a=n(i)?i.radiiSquared:M,u=Math.cos(e);x.x=u*Math.cos(t),x.y=u*Math.sin(t),x.z=Math.sin(e),x=m.normalize(x,x),m.multiplyComponents(a,x,E);const h=Math.sqrt(m.dot(x,E));return E=m.divideByScalar(E,h,E),x=m.multiplyByScalar(x,r,x),n(o)||(o=new m),m.add(E,x,o)},m.fromDegreesArray=function(t,e,r){if(s.defined("coordinates",t),t.length<2||t.length%2!=0)throw new i("the number of coordinates must be a multiple of 2 and at least 2");const o=t.length;n(r)?r.length=o/2:r=new Array(o/2);for(let n=0;n<o;n+=2){const i=t[n],o=t[n+1],a=n/2;r[a]=m.fromDegrees(i,o,0,e,r[a])}return r},m.fromRadiansArray=function(t,e,r){if(s.defined("coordinates",t),t.length<2||t.length%2!=0)throw new i("the number of coordinates must be a multiple of 2 and at least 2");const o=t.length;n(r)?r.length=o/2:r=new Array(o/2);for(let n=0;n<o;n+=2){const i=t[n],o=t[n+1],a=n/2;r[a]=m.fromRadians(i,o,0,e,r[a])}return r},m.fromDegreesArrayHeights=function(t,e,r){if(s.defined("coordinates",t),t.length<3||t.length%3!=0)throw new i("the number of coordinates must be a multiple of 3 and at least 3");const o=t.length;n(r)?r.length=o/3:r=new Array(o/3);for(let n=0;n<o;n+=3){const i=t[n],o=t[n+1],a=t[n+2],s=n/3;r[s]=m.fromDegrees(i,o,a,e,r[s])}return r},m.fromRadiansArrayHeights=function(t,e,r){if(s.defined("coordinates",t),t.length<3||t.length%3!=0)throw new i("the number of coordinates must be a multiple of 3 and at least 3");const o=t.length;n(r)?r.length=o/3:r=new Array(o/3);for(let n=0;n<o;n+=3){const i=t[n],o=t[n+1],a=t[n+2],s=n/3;r[s]=m.fromRadians(i,o,a,e,r[s])}return r},m.ZERO=Object.freeze(new m(0,0,0)),m.ONE=Object.freeze(new m(1,1,1)),m.UNIT_X=Object.freeze(new m(1,0,0)),m.UNIT_Y=Object.freeze(new m(0,1,0)),m.UNIT_Z=Object.freeze(new m(0,0,1)),m.prototype.clone=function(t){return m.clone(this,t)},m.prototype.equals=function(t){return m.equals(this,t)},m.prototype.equalsEpsilon=function(t,e,n){return m.equalsEpsilon(this,t,e,n)},m.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`};const j=m,T=new j,q=new j,P=function(t,e,r,o,a){if(!n(t))throw new i("cartesian is required.");if(!n(e))throw new i("oneOverRadii is required.");if(!n(r))throw new i("oneOverRadiiSquared is required.");if(!n(o))throw new i("centerToleranceSquared is required.");const s=t.x,u=t.y,c=t.z,h=e.x,f=e.y,l=e.z,p=s*s*h*h,y=u*u*f*f,m=c*c*l*l,O=p+y+m,b=Math.sqrt(1/O),g=j.multiplyByScalar(t,b,T);if(O<o)return isFinite(b)?j.clone(g,a):void 0;const w=r.x,_=r.y,x=r.z,E=q;E.x=g.x*w*2,E.y=g.y*_*2,E.z=g.z*x*2;let M,P,S,I,R,A,z,N,v,L,W,C=(1-b)*j.magnitude(t)/(.5*j.magnitude(E)),U=0;do{C-=U,S=1/(1+C*w),I=1/(1+C*_),R=1/(1+C*x),A=S*S,z=I*I,N=R*R,v=A*S,L=z*I,W=N*R,M=p*A+y*z+m*N-1,P=p*v*w+y*L*_+m*W*x,U=M/(-2*P)}while(Math.abs(M)>d.EPSILON12);return n(a)?(a.x=s*S,a.y=u*I,a.z=c*R,a):new j(s*S,u*I,c*R)};function S(t,e,n){this.longitude=c(t,0),this.latitude=c(e,0),this.height=c(n,0)}S.fromRadians=function(t,e,r,i){return s.typeOf.number("longitude",t),s.typeOf.number("latitude",e),r=c(r,0),n(i)?(i.longitude=t,i.latitude=e,i.height=r,i):new S(t,e,r)},S.fromDegrees=function(t,e,n,r){return s.typeOf.number("longitude",t),s.typeOf.number("latitude",e),t=d.toRadians(t),e=d.toRadians(e),S.fromRadians(t,e,n,r)};const I=new j,R=new j,A=new j,z=new j(1/6378137,1/6378137,1/6356752.314245179),N=new j(1/40680631590769,1/40680631590769,1/40408299984661.445),v=d.EPSILON1;S.fromCartesian=function(t,e,r){const i=n(e)?e.oneOverRadii:z,o=n(e)?e.oneOverRadiiSquared:N,a=n(e)?e._centerToleranceSquared:v,s=P(t,i,o,a,R);if(!n(s))return;let u=j.multiplyComponents(s,o,I);u=j.normalize(u,u);const c=j.subtract(t,s,A),h=Math.atan2(u.y,u.x),f=Math.asin(u.z),l=d.sign(j.dot(c,t))*j.magnitude(c);return n(r)?(r.longitude=h,r.latitude=f,r.height=l,r):new S(h,f,l)},S.toCartesian=function(t,e,n){return s.defined("cartographic",t),j.fromRadians(t.longitude,t.latitude,t.height,e,n)},S.clone=function(t,e){if(n(t))return n(e)?(e.longitude=t.longitude,e.latitude=t.latitude,e.height=t.height,e):new S(t.longitude,t.latitude,t.height)},S.equals=function(t,e){return t===e||n(t)&&n(e)&&t.longitude===e.longitude&&t.latitude===e.latitude&&t.height===e.height},S.equalsEpsilon=function(t,e,r){return r=c(r,0),t===e||n(t)&&n(e)&&Math.abs(t.longitude-e.longitude)<=r&&Math.abs(t.latitude-e.latitude)<=r&&Math.abs(t.height-e.height)<=r},S.ZERO=Object.freeze(new S(0,0,0)),S.prototype.clone=function(t){return S.clone(this,t)},S.prototype.equals=function(t){return S.equals(this,t)},S.prototype.equalsEpsilon=function(t,e){return S.equalsEpsilon(this,t,e)},S.prototype.toString=function(){return`(${this.longitude}, ${this.latitude}, ${this.height})`};const L=S;function W(t,e,n,r){e=c(e,0),n=c(n,0),r=c(r,0),s.typeOf.number.greaterThanOrEquals("x",e,0),s.typeOf.number.greaterThanOrEquals("y",n,0),s.typeOf.number.greaterThanOrEquals("z",r,0),t._radii=new j(e,n,r),t._radiiSquared=new j(e*e,n*n,r*r),t._radiiToTheFourth=new j(e*e*e*e,n*n*n*n,r*r*r*r),t._oneOverRadii=new j(0===e?0:1/e,0===n?0:1/n,0===r?0:1/r),t._oneOverRadiiSquared=new j(0===e?0:1/(e*e),0===n?0:1/(n*n),0===r?0:1/(r*r)),t._minimumRadius=Math.min(e,n,r),t._maximumRadius=Math.max(e,n,r),t._centerToleranceSquared=d.EPSILON1,0!==t._radiiSquared.z&&(t._squaredXOverSquaredZ=t._radiiSquared.x/t._radiiSquared.z)}function C(t,e,n){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,W(this,t,e,n)}Object.defineProperties(C.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),C.clone=function(t,e){if(!n(t))return;const r=t._radii;return n(e)?(j.clone(r,e._radii),j.clone(t._radiiSquared,e._radiiSquared),j.clone(t._radiiToTheFourth,e._radiiToTheFourth),j.clone(t._oneOverRadii,e._oneOverRadii),j.clone(t._oneOverRadiiSquared,e._oneOverRadiiSquared),e._minimumRadius=t._minimumRadius,e._maximumRadius=t._maximumRadius,e._centerToleranceSquared=t._centerToleranceSquared,e):new C(r.x,r.y,r.z)},C.fromCartesian3=function(t,e){return n(e)||(e=new C),n(t)?(W(e,t.x,t.y,t.z),e):e},C.WGS84=Object.freeze(new C(6378137,6378137,6356752.314245179)),C.UNIT_SPHERE=Object.freeze(new C(1,1,1)),C.MOON=Object.freeze(new C(d.LUNAR_RADIUS,d.LUNAR_RADIUS,d.LUNAR_RADIUS)),C.prototype.clone=function(t){return C.clone(this,t)},C.packedLength=j.packedLength,C.pack=function(t,e,n){return s.typeOf.object("value",t),s.defined("array",e),n=c(n,0),j.pack(t._radii,e,n),e},C.unpack=function(t,e,n){s.defined("array",t),e=c(e,0);const r=j.unpack(t,e);return C.fromCartesian3(r,n)},C.prototype.geocentricSurfaceNormal=j.normalize,C.prototype.geodeticSurfaceNormalCartographic=function(t,e){s.typeOf.object("cartographic",t);const r=t.longitude,i=t.latitude,o=Math.cos(i),a=o*Math.cos(r),u=o*Math.sin(r),c=Math.sin(i);return n(e)||(e=new j),e.x=a,e.y=u,e.z=c,j.normalize(e,e)},C.prototype.geodeticSurfaceNormal=function(t,e){if(!j.equalsEpsilon(t,j.ZERO,d.EPSILON14))return n(e)||(e=new j),e=j.multiplyComponents(t,this._oneOverRadiiSquared,e),j.normalize(e,e)};const U=new j,D=new j;C.prototype.cartographicToCartesian=function(t,e){const r=U,i=D;this.geodeticSurfaceNormalCartographic(t,r),j.multiplyComponents(this._radiiSquared,r,i);const o=Math.sqrt(j.dot(r,i));return j.divideByScalar(i,o,i),j.multiplyByScalar(r,t.height,r),n(e)||(e=new j),j.add(i,r,e)},C.prototype.cartographicArrayToCartesianArray=function(t,e){s.defined("cartographics",t);const r=t.length;n(e)?e.length=r:e=new Array(r);for(let n=0;n<r;n++)e[n]=this.cartographicToCartesian(t[n],e[n]);return e};const V=new j,X=new j,$=new j;C.prototype.cartesianToCartographic=function(t,e){const r=this.scaleToGeodeticSurface(t,X);if(!n(r))return;const i=this.geodeticSurfaceNormal(r,V),o=j.subtract(t,r,$),a=Math.atan2(i.y,i.x),s=Math.asin(i.z),u=d.sign(j.dot(o,t))*j.magnitude(o);return n(e)?(e.longitude=a,e.latitude=s,e.height=u,e):new L(a,s,u)},C.prototype.cartesianArrayToCartographicArray=function(t,e){s.defined("cartesians",t);const r=t.length;n(e)?e.length=r:e=new Array(r);for(let n=0;n<r;++n)e[n]=this.cartesianToCartographic(t[n],e[n]);return e},C.prototype.scaleToGeodeticSurface=function(t,e){return P(t,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,e)},C.prototype.scaleToGeocentricSurface=function(t,e){s.typeOf.object("cartesian",t),n(e)||(e=new j);const r=t.x,i=t.y,o=t.z,a=this._oneOverRadiiSquared,u=1/Math.sqrt(r*r*a.x+i*i*a.y+o*o*a.z);return j.multiplyByScalar(t,u,e)},C.prototype.transformPositionToScaledSpace=function(t,e){return n(e)||(e=new j),j.multiplyComponents(t,this._oneOverRadii,e)},C.prototype.transformPositionFromScaledSpace=function(t,e){return n(e)||(e=new j),j.multiplyComponents(t,this._radii,e)},C.prototype.equals=function(t){return this===t||n(t)&&j.equals(this._radii,t._radii)},C.prototype.toString=function(){return this._radii.toString()},C.prototype.getSurfaceNormalIntersectionWithZAxis=function(t,e,r){if(s.typeOf.object("position",t),!d.equalsEpsilon(this._radii.x,this._radii.y,d.EPSILON15))throw new i("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");s.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),e=c(e,0);const o=this._squaredXOverSquaredZ;if(n(r)||(r=new j),r.x=0,r.y=0,r.z=t.z*(1-o),!(Math.abs(r.z)>=this._radii.z-e))return r};const k=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],B=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function Y(t,e,n){s.typeOf.number("a",t),s.typeOf.number("b",e),s.typeOf.func("func",n);const r=.5*(e+t),i=.5*(e-t);let o=0;for(let t=0;t<5;t++){const e=i*k[t];o+=B[t]*(n(r+e)+n(r-e))}return o*=i,o}C.prototype.surfaceArea=function(t){s.typeOf.object("rectangle",t);const e=t.west;let n=t.east;const r=t.south,i=t.north;for(;n<e;)n+=d.TWO_PI;const o=this._radiiSquared,a=o.x,u=o.y,c=o.z,h=a*u;return Y(r,i,(function(t){const r=Math.cos(t),i=Math.sin(t);return Math.cos(t)*Y(e,n,(function(t){const e=Math.cos(t),n=Math.sin(t);return Math.sqrt(h*i*i+c*(u*e*e+a*n*n)*r*r)}))}))};const G=C;function Z(t,e){this.x=c(t,0),this.y=c(e,0)}Z.fromElements=function(t,e,r){return n(r)?(r.x=t,r.y=e,r):new Z(t,e)},Z.clone=function(t,e){if(n(t))return n(e)?(e.x=t.x,e.y=t.y,e):new Z(t.x,t.y)},Z.fromCartesian3=Z.clone,Z.fromCartesian4=Z.clone,Z.packedLength=2,Z.pack=function(t,e,n){return s.typeOf.object("value",t),s.defined("array",e),n=c(n,0),e[n++]=t.x,e[n]=t.y,e},Z.unpack=function(t,e,r){return s.defined("array",t),e=c(e,0),n(r)||(r=new Z),r.x=t[e++],r.y=t[e],r},Z.packArray=function(t,e){s.defined("array",t);const r=t.length,o=2*r;if(n(e)){if(!Array.isArray(e)&&e.length!==o)throw new i("If result is a typed array, it must have exactly array.length * 2 elements");e.length!==o&&(e.length=o)}else e=new Array(o);for(let n=0;n<r;++n)Z.pack(t[n],e,2*n);return e},Z.unpackArray=function(t,e){if(s.defined("array",t),s.typeOf.number.greaterThanOrEquals("array.length",t.length,2),t.length%2!=0)throw new i("array length must be a multiple of 2.");const r=t.length;n(e)?e.length=r/2:e=new Array(r/2);for(let n=0;n<r;n+=2){const r=n/2;e[r]=Z.unpack(t,n,e[r])}return e},Z.fromArray=Z.unpack,Z.maximumComponent=function(t){return s.typeOf.object("cartesian",t),Math.max(t.x,t.y)},Z.minimumComponent=function(t){return s.typeOf.object("cartesian",t),Math.min(t.x,t.y)},Z.minimumByComponent=function(t,e,n){return s.typeOf.object("first",t),s.typeOf.object("second",e),s.typeOf.object("result",n),n.x=Math.min(t.x,e.x),n.y=Math.min(t.y,e.y),n},Z.maximumByComponent=function(t,e,n){return s.typeOf.object("first",t),s.typeOf.object("second",e),s.typeOf.object("result",n),n.x=Math.max(t.x,e.x),n.y=Math.max(t.y,e.y),n},Z.clamp=function(t,e,n,r){s.typeOf.object("value",t),s.typeOf.object("min",e),s.typeOf.object("max",n),s.typeOf.object("result",r);const i=d.clamp(t.x,e.x,n.x),o=d.clamp(t.y,e.y,n.y);return r.x=i,r.y=o,r},Z.magnitudeSquared=function(t){return s.typeOf.object("cartesian",t),t.x*t.x+t.y*t.y},Z.magnitude=function(t){return Math.sqrt(Z.magnitudeSquared(t))};const F=new Z;Z.distance=function(t,e){return s.typeOf.object("left",t),s.typeOf.object("right",e),Z.subtract(t,e,F),Z.magnitude(F)},Z.distanceSquared=function(t,e){return s.typeOf.object("left",t),s.typeOf.object("right",e),Z.subtract(t,e,F),Z.magnitudeSquared(F)},Z.normalize=function(t,e){s.typeOf.object("cartesian",t),s.typeOf.object("result",e);const n=Z.magnitude(t);if(e.x=t.x/n,e.y=t.y/n,isNaN(e.x)||isNaN(e.y))throw new i("normalized result is not a number");return e},Z.dot=function(t,e){return s.typeOf.object("left",t),s.typeOf.object("right",e),t.x*e.x+t.y*e.y},Z.cross=function(t,e){return s.typeOf.object("left",t),s.typeOf.object("right",e),t.x*e.y-t.y*e.x},Z.multiplyComponents=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=t.x*e.x,n.y=t.y*e.y,n},Z.divideComponents=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=t.x/e.x,n.y=t.y/e.y,n},Z.add=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=t.x+e.x,n.y=t.y+e.y,n},Z.subtract=function(t,e,n){return s.typeOf.object("left",t),s.typeOf.object("right",e),s.typeOf.object("result",n),n.x=t.x-e.x,n.y=t.y-e.y,n},Z.multiplyByScalar=function(t,e,n){return s.typeOf.object("cartesian",t),s.typeOf.number("scalar",e),s.typeOf.object("result",n),n.x=t.x*e,n.y=t.y*e,n},Z.divideByScalar=function(t,e,n){return s.typeOf.object("cartesian",t),s.typeOf.number("scalar",e),s.typeOf.object("result",n),n.x=t.x/e,n.y=t.y/e,n},Z.negate=function(t,e){return s.typeOf.object("cartesian",t),s.typeOf.object("result",e),e.x=-t.x,e.y=-t.y,e},Z.abs=function(t,e){return s.typeOf.object("cartesian",t),s.typeOf.object("result",e),e.x=Math.abs(t.x),e.y=Math.abs(t.y),e};const K=new Z;Z.lerp=function(t,e,n,r){return s.typeOf.object("start",t),s.typeOf.object("end",e),s.typeOf.number("t",n),s.typeOf.object("result",r),Z.multiplyByScalar(e,n,K),r=Z.multiplyByScalar(t,1-n,r),Z.add(K,r,r)};const H=new Z,J=new Z;Z.angleBetween=function(t,e){return s.typeOf.object("left",t),s.typeOf.object("right",e),Z.normalize(t,H),Z.normalize(e,J),d.acosClamped(Z.dot(H,J))};const Q=new Z;Z.mostOrthogonalAxis=function(t,e){s.typeOf.object("cartesian",t),s.typeOf.object("result",e);const n=Z.normalize(t,Q);return Z.abs(n,n),n.x<=n.y?Z.clone(Z.UNIT_X,e):Z.clone(Z.UNIT_Y,e)},Z.equals=function(t,e){return t===e||n(t)&&n(e)&&t.x===e.x&&t.y===e.y},Z.equalsArray=function(t,e,n){return t.x===e[n]&&t.y===e[n+1]},Z.equalsEpsilon=function(t,e,r,i){return t===e||n(t)&&n(e)&&d.equalsEpsilon(t.x,e.x,r,i)&&d.equalsEpsilon(t.y,e.y,r,i)},Z.ZERO=Object.freeze(new Z(0,0)),Z.ONE=Object.freeze(new Z(1,1)),Z.UNIT_X=Object.freeze(new Z(1,0)),Z.UNIT_Y=Object.freeze(new Z(0,1)),Z.prototype.clone=function(t){return Z.clone(this,t)},Z.prototype.equals=function(t){return Z.equals(this,t)},Z.prototype.equalsEpsilon=function(t,e,n){return Z.equalsEpsilon(this,t,e,n)},Z.prototype.toString=function(){return`(${this.x}, ${this.y})`};const tt=Z;function et(t){this._ellipsoid=c(t,G.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(et.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),et.prototype.project=function(t,e){const r=this._semimajorAxis,i=t.longitude*r,o=t.latitude*r,a=t.height;return n(e)?(e.x=i,e.y=o,e.z=a,e):new j(i,o,a)},et.prototype.unproject=function(t,e){if(!n(t))throw new i("cartesian is required");const r=this._oneOverSemimajorAxis,o=t.x*r,a=t.y*r,s=t.z;return n(e)?(e.longitude=o,e.latitude=a,e.height=s,e):new L(o,a,s)};const nt=et;function rt(t,e,n,r){this.west=c(t,0),this.south=c(e,0),this.east=c(n,0),this.north=c(r,0)}Object.defineProperties(rt.prototype,{width:{get:function(){return rt.computeWidth(this)}},height:{get:function(){return rt.computeHeight(this)}}}),rt.packedLength=4,rt.pack=function(t,e,n){return s.typeOf.object("value",t),s.defined("array",e),n=c(n,0),e[n++]=t.west,e[n++]=t.south,e[n++]=t.east,e[n]=t.north,e},rt.unpack=function(t,e,r){return s.defined("array",t),e=c(e,0),n(r)||(r=new rt),r.west=t[e++],r.south=t[e++],r.east=t[e++],r.north=t[e],r},rt.computeWidth=function(t){s.typeOf.object("rectangle",t);let e=t.east;const n=t.west;return e<n&&(e+=d.TWO_PI),e-n},rt.computeHeight=function(t){return s.typeOf.object("rectangle",t),t.north-t.south},rt.fromDegrees=function(t,e,r,i,o){return t=d.toRadians(c(t,0)),e=d.toRadians(c(e,0)),r=d.toRadians(c(r,0)),i=d.toRadians(c(i,0)),n(o)?(o.west=t,o.south=e,o.east=r,o.north=i,o):new rt(t,e,r,i)},rt.fromRadians=function(t,e,r,i,o){return n(o)?(o.west=c(t,0),o.south=c(e,0),o.east=c(r,0),o.north=c(i,0),o):new rt(t,e,r,i)},rt.fromCartographicArray=function(t,e){s.defined("cartographics",t);let r=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,u=Number.MAX_VALUE,c=-Number.MAX_VALUE;for(let e=0,n=t.length;e<n;e++){const n=t[e];r=Math.min(r,n.longitude),i=Math.max(i,n.longitude),u=Math.min(u,n.latitude),c=Math.max(c,n.latitude);const s=n.longitude>=0?n.longitude:n.longitude+d.TWO_PI;o=Math.min(o,s),a=Math.max(a,s)}return i-r>a-o&&(r=o,i=a,i>d.PI&&(i-=d.TWO_PI),r>d.PI&&(r-=d.TWO_PI)),n(e)?(e.west=r,e.south=u,e.east=i,e.north=c,e):new rt(r,u,i,c)},rt.fromCartesianArray=function(t,e,r){s.defined("cartesians",t),e=c(e,G.WGS84);let i=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=Number.MAX_VALUE,u=-Number.MAX_VALUE,h=Number.MAX_VALUE,f=-Number.MAX_VALUE;for(let n=0,r=t.length;n<r;n++){const r=e.cartesianToCartographic(t[n]);i=Math.min(i,r.longitude),o=Math.max(o,r.longitude),h=Math.min(h,r.latitude),f=Math.max(f,r.latitude);const s=r.longitude>=0?r.longitude:r.longitude+d.TWO_PI;a=Math.min(a,s),u=Math.max(u,s)}return o-i>u-a&&(i=a,o=u,o>d.PI&&(o-=d.TWO_PI),i>d.PI&&(i-=d.TWO_PI)),n(r)?(r.west=i,r.south=h,r.east=o,r.north=f,r):new rt(i,h,o,f)},rt.clone=function(t,e){if(n(t))return n(e)?(e.west=t.west,e.south=t.south,e.east=t.east,e.north=t.north,e):new rt(t.west,t.south,t.east,t.north)},rt.equalsEpsilon=function(t,e,r){return r=c(r,0),t===e||n(t)&&n(e)&&Math.abs(t.west-e.west)<=r&&Math.abs(t.south-e.south)<=r&&Math.abs(t.east-e.east)<=r&&Math.abs(t.north-e.north)<=r},rt.prototype.clone=function(t){return rt.clone(this,t)},rt.prototype.equals=function(t){return rt.equals(this,t)},rt.equals=function(t,e){return t===e||n(t)&&n(e)&&t.west===e.west&&t.south===e.south&&t.east===e.east&&t.north===e.north},rt.prototype.equalsEpsilon=function(t,e){return rt.equalsEpsilon(this,t,e)},rt.validate=function(t){s.typeOf.object("rectangle",t);const e=t.north;s.typeOf.number.greaterThanOrEquals("north",e,-d.PI_OVER_TWO),s.typeOf.number.lessThanOrEquals("north",e,d.PI_OVER_TWO);const n=t.south;s.typeOf.number.greaterThanOrEquals("south",n,-d.PI_OVER_TWO),s.typeOf.number.lessThanOrEquals("south",n,d.PI_OVER_TWO);const r=t.west;s.typeOf.number.greaterThanOrEquals("west",r,-Math.PI),s.typeOf.number.lessThanOrEquals("west",r,Math.PI);const i=t.east;s.typeOf.number.greaterThanOrEquals("east",i,-Math.PI),s.typeOf.number.lessThanOrEquals("east",i,Math.PI)},rt.southwest=function(t,e){return s.typeOf.object("rectangle",t),n(e)?(e.longitude=t.west,e.latitude=t.south,e.height=0,e):new L(t.west,t.south)},rt.northwest=function(t,e){return s.typeOf.object("rectangle",t),n(e)?(e.longitude=t.west,e.latitude=t.north,e.height=0,e):new L(t.west,t.north)},rt.northeast=function(t,e){return s.typeOf.object("rectangle",t),n(e)?(e.longitude=t.east,e.latitude=t.north,e.height=0,e):new L(t.east,t.north)},rt.southeast=function(t,e){return s.typeOf.object("rectangle",t),n(e)?(e.longitude=t.east,e.latitude=t.south,e.height=0,e):new L(t.east,t.south)},rt.center=function(t,e){s.typeOf.object("rectangle",t);let r=t.east;const i=t.west;r<i&&(r+=d.TWO_PI);const o=d.negativePiToPi(.5*(i+r)),a=.5*(t.south+t.north);return n(e)?(e.longitude=o,e.latitude=a,e.height=0,e):new L(o,a)},rt.intersection=function(t,e,r){s.typeOf.object("rectangle",t),s.typeOf.object("otherRectangle",e);let i=t.east,o=t.west,a=e.east,u=e.west;i<o&&a>0?i+=d.TWO_PI:a<u&&i>0&&(a+=d.TWO_PI),i<o&&u<0?u+=d.TWO_PI:a<u&&o<0&&(o+=d.TWO_PI);const c=d.negativePiToPi(Math.max(o,u)),h=d.negativePiToPi(Math.min(i,a));if((t.west<t.east||e.west<e.east)&&h<=c)return;const f=Math.max(t.south,e.south),l=Math.min(t.north,e.north);return f>=l?void 0:n(r)?(r.west=c,r.south=f,r.east=h,r.north=l,r):new rt(c,f,h,l)},rt.simpleIntersection=function(t,e,r){s.typeOf.object("rectangle",t),s.typeOf.object("otherRectangle",e);const i=Math.max(t.west,e.west),o=Math.max(t.south,e.south),a=Math.min(t.east,e.east),u=Math.min(t.north,e.north);if(!(o>=u||i>=a))return n(r)?(r.west=i,r.south=o,r.east=a,r.north=u,r):new rt(i,o,a,u)},rt.union=function(t,e,r){s.typeOf.object("rectangle",t),s.typeOf.object("otherRectangle",e),n(r)||(r=new rt);let i=t.east,o=t.west,a=e.east,u=e.west;i<o&&a>0?i+=d.TWO_PI:a<u&&i>0&&(a+=d.TWO_PI),i<o&&u<0?u+=d.TWO_PI:a<u&&o<0&&(o+=d.TWO_PI);const c=d.negativePiToPi(Math.min(o,u)),h=d.negativePiToPi(Math.max(i,a));return r.west=c,r.south=Math.min(t.south,e.south),r.east=h,r.north=Math.max(t.north,e.north),r},rt.expand=function(t,e,r){return s.typeOf.object("rectangle",t),s.typeOf.object("cartographic",e),n(r)||(r=new rt),r.west=Math.min(t.west,e.longitude),r.south=Math.min(t.south,e.latitude),r.east=Math.max(t.east,e.longitude),r.north=Math.max(t.north,e.latitude),r},rt.contains=function(t,e){s.typeOf.object("rectangle",t),s.typeOf.object("cartographic",e);let n=e.longitude;const r=e.latitude,i=t.west;let o=t.east;return o<i&&(o+=d.TWO_PI,n<0&&(n+=d.TWO_PI)),(n>i||d.equalsEpsilon(n,i,d.EPSILON14))&&(n<o||d.equalsEpsilon(n,o,d.EPSILON14))&&r>=t.south&&r<=t.north};const it=new L;rt.subsample=function(t,e,r,i){s.typeOf.object("rectangle",t),e=c(e,G.WGS84),r=c(r,0),n(i)||(i=[]);let o=0;const a=t.north,u=t.south,h=t.east,f=t.west,l=it;l.height=r,l.longitude=f,l.latitude=a,i[o]=e.cartographicToCartesian(l,i[o]),o++,l.longitude=h,i[o]=e.cartographicToCartesian(l,i[o]),o++,l.latitude=u,i[o]=e.cartographicToCartesian(l,i[o]),o++,l.longitude=f,i[o]=e.cartographicToCartesian(l,i[o]),o++,l.latitude=a<0?a:u>0?u:0;for(let n=1;n<8;++n)l.longitude=-Math.PI+n*d.PI_OVER_TWO,rt.contains(t,l)&&(i[o]=e.cartographicToCartesian(l,i[o]),o++);return 0===l.latitude&&(l.longitude=f,i[o]=e.cartographicToCartesian(l,i[o]),o++,l.longitude=h,i[o]=e.cartographicToCartesian(l,i[o]),o++),i.length=o,i},rt.subsection=function(t,e,r,i,o,a){if(s.typeOf.object("rectangle",t),s.typeOf.number.greaterThanOrEquals("westLerp",e,0),s.typeOf.number.lessThanOrEquals("westLerp",e,1),s.typeOf.number.greaterThanOrEquals("southLerp",r,0),s.typeOf.number.lessThanOrEquals("southLerp",r,1),s.typeOf.number.greaterThanOrEquals("eastLerp",i,0),s.typeOf.number.lessThanOrEquals("eastLerp",i,1),s.typeOf.number.greaterThanOrEquals("northLerp",o,0),s.typeOf.number.lessThanOrEquals("northLerp",o,1),s.typeOf.number.lessThanOrEquals("westLerp",e,i),s.typeOf.number.lessThanOrEquals("southLerp",r,o),n(a)||(a=new rt),t.west<=t.east){const n=t.east-t.west;a.west=t.west+e*n,a.east=t.west+i*n}else{const n=d.TWO_PI+t.east-t.west;a.west=d.negativePiToPi(t.west+e*n),a.east=d.negativePiToPi(t.west+i*n)}const u=t.north-t.south;return a.south=t.south+r*u,a.north=t.south+o*u,1===e&&(a.west=t.east),1===i&&(a.east=t.east),1===r&&(a.south=t.north),1===o&&(a.north=t.north),a},rt.MAX_VALUE=Object.freeze(new rt(-Math.PI,-d.PI_OVER_TWO,Math.PI,d.PI_OVER_TWO));const ot=rt;function at(t){t=c(t,c.EMPTY_OBJECT),this._ellipsoid=c(t.ellipsoid,G.WGS84),this._rectangle=c(t.rectangle,ot.MAX_VALUE),this._projection=new nt(this._ellipsoid),this._numberOfLevelZeroTilesX=c(t.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=c(t.numberOfLevelZeroTilesY,1)}Object.defineProperties(at.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),at.prototype.getNumberOfXTilesAtLevel=function(t){return this._numberOfLevelZeroTilesX<<t},at.prototype.getNumberOfYTilesAtLevel=function(t){return this._numberOfLevelZeroTilesY<<t},at.prototype.rectangleToNativeRectangle=function(t,e){s.defined("rectangle",t);const r=d.toDegrees(t.west),i=d.toDegrees(t.south),o=d.toDegrees(t.east),a=d.toDegrees(t.north);return n(e)?(e.west=r,e.south=i,e.east=o,e.north=a,e):new ot(r,i,o,a)},at.prototype.tileXYToNativeRectangle=function(t,e,n,r){const i=this.tileXYToRectangle(t,e,n,r);return i.west=d.toDegrees(i.west),i.south=d.toDegrees(i.south),i.east=d.toDegrees(i.east),i.north=d.toDegrees(i.north),i},at.prototype.tileXYToRectangle=function(t,e,r,i){const o=this._rectangle,a=this.getNumberOfXTilesAtLevel(r),s=this.getNumberOfYTilesAtLevel(r),u=o.width/a,c=t*u+o.west,h=(t+1)*u+o.west,f=o.height/s,l=o.north-e*f,p=o.north-(e+1)*f;return n(i)||(i=new ot(c,p,h,l)),i.west=c,i.south=p,i.east=h,i.north=l,i},at.prototype.positionToTileXY=function(t,e,r){const i=this._rectangle;if(!ot.contains(i,t))return;const o=this.getNumberOfXTilesAtLevel(e),a=this.getNumberOfYTilesAtLevel(e),s=i.width/o,u=i.height/a;let c=t.longitude;i.east<i.west&&(c+=d.TWO_PI);let h=(c-i.west)/s|0;h>=o&&(h=o-1);let f=(i.north-t.latitude)/u|0;return f>=a&&(f=a-1),n(r)?(r.x=h,r.y=f,r):new tt(h,f)};const st={Cartographic:L,Ellipsoid:G,GeographicTilingScheme:at};return e.default})()));